import libs
from config import settings
import os
from optparse import OptionParser
from pylab import *
import datetime
import urllib2
import urllib
import json

db = libs.pymysql.connect(
    settings.DB_HOST,
    settings.DB_USER,
    settings.DB_PASS,
    settings.DB_DATABASE
)

cur = db.cursor()

stats = {
    'found': 0,
    'duplicates': 0
}

def writeToDB(data):
    columns = '`' + '`,`'.join(data.keys()) + '`'
    values = '\'' + '\',\''.join([str(x) for x in data.values()]) + '\''
    sql = 'INSERT INTO `realestate`.`properties` (' + columns + ') values(' + values + ');'

    stats['found'] += 1

    try:
        cur.execute(sql)
    except Exception, e:
        stats['duplicates'] += 1

    db.commit ()

def initWriteToFile(data):
    outFile = open(settings.OUTPUT_FILES_PATH + '/santa_monica.txt', 'w')
    outFile.write('\t'.join(data.keys()) + '\n')

def writeToFile(data):
    outFile = open(settings.OUTPUT_FILES_PATH + '/santa_monica.txt', 'a')
    outFile.write('\t'.join([str(x) for x in data.values()]) + '\n')

    stats['found'] += 1

def trulia():
    url = 'http://www.trulia.com/_ajax/Location/LocalComps/get_comps/?b=34.021588,-118.514644,34.029058,-118.481793&v=city&c=Santa%20Monica&s=CA&t=&br=&ba='

    string = """{"properties":{"for sale":[{"t":"for_sale","y":34.021873,"x":-118.50022,"a":"1024 5th St #7","s":"CA","c":"Santa Monica","z":"90403","p":"555,000","ph":"2b41157a48aaf9cd8e7215fafde78da","n":"","pt":"Condo","i":"thumbs\/ps.61\/c\/0\/d\/9\/picture-uh=b97db222a04be2f5864e8f8a4eb4fb4-ps=c0d9e4e1d2ab53413d412d5767780f9.jpg","ib":"thumbs_big\/ps.61\/c\/0\/d\/9\/picture-uh=b97db222a04be2f5864e8f8a4eb4fb4-ps=c0d9e4e1d2ab53413d412d5767780f9.jpg","sd":"","br":"1","ba":"1","sf":"664","pps":"836","cs":"","id":"3025262952","u":"\/property\/3025262952-1024-5th-St-7-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":10352208,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.021873%2C-118.50022&signature=wbjkDCFntpXMuHetslUt2VzDb1k=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.021873%2C-118.50022&signature=IQN8TAT6V4w0-Wd_SbinEXyzISs=","fl":"0"},{"t":"for_sale","y":34.027287,"x":-118.4926,"a":"1043 12th St #3","s":"CA","c":"Santa Monica","z":"90403","p":"330,000","ph":"f11a59e27842ab77d30a29fb46ce58a","n":"","pt":"Condo","i":"thumbs\/ps.61\/4\/4\/6\/c\/picture-uh=684cded9cfca93d8c0b84a389384fe52-ps=446cc3a06e1c3e9bda9ed59e148fdfe.jpg","ib":"thumbs_big\/ps.61\/4\/4\/6\/c\/picture-uh=684cded9cfca93d8c0b84a389384fe52-ps=446cc3a06e1c3e9bda9ed59e148fdfe.jpg","sd":"","br":"1","ba":"1","sf":"","pps":"","cs":"","id":"3051521711","u":"\/property\/3051521711-1043-12th-St-3-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11823796,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.027287%2C-118.4926&signature=_0qLQMsrhtgt0_Vh-JerH78XfrI=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.027287%2C-118.4926&signature=ezwY3K0D_EezBtqxCGPnthbsRts=","fl":"0"},{"t":"for_sale","y":34.0254,"x":-118.48854,"a":"1235 Euclid St #3","s":"CA","c":"Santa Monica","z":"90404","p":"775,000","ph":"ac55577a3ae1059181fbb46d5493fab","n":"","pt":"Condo","i":"thumbs\/ps.62\/5\/7\/e\/9\/picture-uh=93b91da6166d4eec7518217b817331b0-ps=57e93612c4df2392f4dcec3b7ea34de5.jpg","ib":"thumbs_big\/ps.62\/5\/7\/e\/9\/picture-uh=93b91da6166d4eec7518217b817331b0-ps=57e93612c4df2392f4dcec3b7ea34de5.jpg","sd":"","br":"2","ba":"3","sf":"1,355","pps":"572","cs":"","id":"3039769059","u":"\/property\/3039769059-1235-Euclid-St-3-Santa-Monica-CA-90404","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":10338446,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.0254%2C-118.48854&signature=5dI-hf4ifSHixuVzE6B5rj7qj88=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.0254%2C-118.48854&signature=ajajUs7lfXgJWAT4xuRDfMpS-4k=","fl":"0"},{"t":"for_sale","y":34.027504,"x":-118.51105,"a":"225 Georgina Ave","s":"CA","c":"Santa Monica","z":"90402","p":"7,900,000","ph":"4613d39cbdfcd41d91657d7d1e26f5e","n":"","pt":"Single-Family Home","i":"thumbs\/ps.58\/f\/0\/3\/d\/picture-uh=9ef95faecc44da6b1a1cad4296f6d8af-ps=f03dafa429b78e09ad229a9f1fdea9.jpg","ib":"thumbs_big\/ps.58\/f\/0\/3\/d\/picture-uh=9ef95faecc44da6b1a1cad4296f6d8af-ps=f03dafa429b78e09ad229a9f1fdea9.jpg","sd":"","br":"3","ba":"3","sf":"3,603","pps":"2,193","cs":"","id":"3020545930","u":"\/property\/3020545930-225-Georgina-Ave-Santa-Monica-CA-90402","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":10352208,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.027504%2C-118.51105&signature=SbId9aSjUBVa64fsE6S7B7_NvHM=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.027504%2C-118.51105&signature=eR3dRQUhj3TqRl9Drqb5yzeh4WQ=","fl":"0"},{"t":"for_sale","y":34.02262,"x":-118.5011,"a":"954 5th St","s":"CA","c":"Santa Monica","z":"90403","p":"2,100,000","ph":"88b86dfdcf72297dc96558a4ac367beb","n":"","pt":"Single-Family Home","i":"thumbs\/ps.60\/9\/5\/3\/4\/picture-uh=39b8774bee69a6ae1381de378b823866-ps=953477e17225bfd32d36b92374cb5.jpg","ib":"thumbs_big\/ps.60\/9\/5\/3\/4\/picture-uh=39b8774bee69a6ae1381de378b823866-ps=953477e17225bfd32d36b92374cb5.jpg","sd":"","br":"4","ba":"2","sf":"1,316","pps":"1,596","cs":"","id":"3004515541","u":"\/property\/3004515541-954-5th-St-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":10338446,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02262%2C-118.5011&signature=0RcpcQG8YKn6JxF8ChiQdDjTD8Q=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02262%2C-118.5011&signature=EcMFxNEABhlDIhltw0wqESR3yzA=","fl":"0"},{"t":"for_sale","y":34.02729,"x":-118.51464,"a":"201 Ocean Ave","s":"CA","c":"Santa Monica","z":"90402","p":"2,498,000","ph":"9b9dae61e6676b747786867c7ed0c37","n":"","pt":"Condo","i":"thumbs\/ps.60\/d\/f\/5\/4\/picture-uh=f8edc639bba06d29431fd1f182de802b-ps=df542de3f1f6d02457a9f536d56a7d2f.jpg","ib":"thumbs_big\/ps.60\/d\/f\/5\/4\/picture-uh=f8edc639bba06d29431fd1f182de802b-ps=df542de3f1f6d02457a9f536d56a7d2f.jpg","sd":"","br":"2","ba":"2","sf":"1,228","pps":"2,034","cs":"","id":"3146613114","u":"\/property\/3146613114-201-Ocean-Ave-Santa-Monica-CA-90402","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11730693,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02729%2C-118.51464&signature=dnHkOCpE54ldFml6w-LG8WHm-A0=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02729%2C-118.51464&signature=8BEwHcnBNtR7fzTfa7LbtpuvUAk=","fl":"0"},{"t":"for_sale","y":34.027287,"x":-118.4926,"a":"1043 12th St #4","s":"CA","c":"Santa Monica","z":"90403","p":"525,000","ph":"5dc4266e70572fac21aa5d4256de57","n":"","pt":"Condo","i":"thumbs\/ps.62\/e\/9\/9\/2\/picture-uh=6138d21f3db831ae15a517aec3fd721a-ps=e9928bf0452353919b4d2160ac9490d9.jpg","ib":"thumbs_big\/ps.62\/e\/9\/9\/2\/picture-uh=6138d21f3db831ae15a517aec3fd721a-ps=e9928bf0452353919b4d2160ac9490d9.jpg","sd":"","br":"1","ba":"1","sf":"624","pps":"841","cs":"","id":"3154409465","u":"\/property\/3154409465-1043-12th-St-4-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11641500,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.027287%2C-118.4926&signature=_0qLQMsrhtgt0_Vh-JerH78XfrI=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.027287%2C-118.4926&signature=ezwY3K0D_EezBtqxCGPnthbsRts=","fl":"0"},{"t":"for_sale","y":34.023018,"x":-118.50778,"a":"701 Ocean Ave #110","s":"CA","c":"Santa Monica","z":"90402","p":"2,195,000","ph":"d14cdafac26be80e924689bded261","n":"","pt":"Condo","i":"thumbs\/ps.62\/2\/7\/9\/f\/picture-uh=8b1eccc42b7d2044908d5fcc3b4a3e64-ps=279fabbc5a420e9fef2f1cae1ebe.jpg","ib":"thumbs_big\/ps.62\/2\/7\/9\/f\/picture-uh=8b1eccc42b7d2044908d5fcc3b4a3e64-ps=279fabbc5a420e9fef2f1cae1ebe.jpg","sd":"","br":"2","ba":"3","sf":"1,624","pps":"1,352","cs":"","id":"3154209531","u":"\/property\/3154209531-701-Ocean-Ave-110-Santa-Monica-CA-90402","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":10338446,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.023018%2C-118.50778&signature=rfANO8dwYk_7CPuF_2um1ok835k=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.023018%2C-118.50778&signature=8xuejlz5lRDQUqjbdkO2l5MbGRU=","fl":"0"},{"t":"for_sale","y":34.02724,"x":-118.4936,"a":"1024 12th St #2","s":"CA","c":"Santa Monica","z":"90403","p":"925,000","ph":"e60e3c730913ced2cff6daec43a11","n":"","pt":"Condo","i":"thumbs\/ps.61\/6\/d\/c\/f\/picture-uh=686a57620e030e0c5d32cb2947e8a0-ps=6dcf9647eacc55f99c5457dd12bcfb0.jpg","ib":"thumbs_big\/ps.61\/6\/d\/c\/f\/picture-uh=686a57620e030e0c5d32cb2947e8a0-ps=6dcf9647eacc55f99c5457dd12bcfb0.jpg","sd":"","br":"2","ba":"3","sf":"","pps":"","cs":"","id":"3102387144","u":"\/property\/3102387144-1024-12th-St-2-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11823796,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02724%2C-118.4936&signature=vG7INMU9EZmQg-4teTfYt8uzPZY=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02724%2C-118.4936&signature=mohqgUxEi5dCK3qnakdLthKSaRg=","fl":"0"},{"t":"for_sale","y":34.02729,"x":-118.51464,"a":"201 Ocean Ave #1809P","s":"CA","c":"Santa Monica","z":"90402","p":"1,600,000","ph":"4582c141128e181538ffb2c5ae877","n":"","pt":"Condo","i":"thumbs\/ps.48\/6\/4\/2\/b\/picture-uh=475e358b8cd458ee4175afbad479d86-ps=642be8bb1b1259b9d57bce9098b06436.jpg","ib":"thumbs_big\/ps.48\/6\/4\/2\/b\/picture-uh=475e358b8cd458ee4175afbad479d86-ps=642be8bb1b1259b9d57bce9098b06436.jpg","sd":"","br":"3","ba":"2 full, 1 partial","sf":"1,566","pps":"1,022","cs":"","id":"3033533725","u":"\/property\/3033533725-201-Ocean-Ave-1809P-Santa-Monica-CA-90402","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":10338446,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02729%2C-118.51464&signature=dnHkOCpE54ldFml6w-LG8WHm-A0=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02729%2C-118.51464&signature=8BEwHcnBNtR7fzTfa7LbtpuvUAk=","fl":"0"},{"t":"for_sale","y":34.02729,"x":-118.51464,"a":"201 Ocean Ave #B509","s":"CA","c":"Santa Monica","z":"90402","p":"2,250,000","ph":"1a95e79c381c694fee9c488932a","n":"","pt":"Condo","i":"","ib":"","sd":"","br":"3","ba":"4","sf":"1,562","pps":"1,440","cs":"","id":"3154614940","u":"\/property\/3154614940-201-Ocean-Ave-B509-Santa-Monica-CA-90402","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11819214,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02729%2C-118.51464&signature=dnHkOCpE54ldFml6w-LG8WHm-A0=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02729%2C-118.51464&signature=8BEwHcnBNtR7fzTfa7LbtpuvUAk=","fl":"0"},{"t":"for_sale","y":34.028633,"x":-118.48786,"a":"1138 16th St #3","s":"CA","c":"Santa Monica","z":"90403","p":"839,000","ph":"7d35c0c4a19a6dff9a31cd213df992","n":"","pt":"Townhome","i":"thumbs\/ps.61\/c\/7\/2\/2\/picture-uh=22027605155767e693c3ea4a5ce5b2-ps=c722befde26f24a697bd6c7fd765494.jpg","ib":"thumbs_big\/ps.61\/c\/7\/2\/2\/picture-uh=22027605155767e693c3ea4a5ce5b2-ps=c722befde26f24a697bd6c7fd765494.jpg","sd":"","br":"2","ba":"3","sf":"1,286","pps":"652","cs":"","id":"3153579214","u":"\/property\/3153579214-1138-16th-St-3-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":10569850,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.028633%2C-118.48786&signature=iN1ZkeSjhy8IbndDg0pZ_Y0KfyQ=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.028633%2C-118.48786&signature=NAH2Xnr15ApxoSuLpi7tTNFpt8s=","fl":"0"},{"t":"for_sale","y":34.028404,"x":-118.48838,"a":"1133 15th St #4","s":"CA","c":"Santa Monica","z":"90403","p":"889,000","ph":"f7d0fd89baea72f7ea64ae9754195","n":"","pt":"Condo","i":"thumbs\/ps.61\/6\/5\/d\/d\/picture-uh=723fdd1a5a86cddb2891dc114f8dd9-ps=65dd3d78c24a46c33b1c4da225d8b94.jpg","ib":"thumbs_big\/ps.61\/6\/5\/d\/d\/picture-uh=723fdd1a5a86cddb2891dc114f8dd9-ps=65dd3d78c24a46c33b1c4da225d8b94.jpg","sd":"","br":"3","ba":"3","sf":"1,468","pps":"606","cs":"","id":"3151094957","u":"\/property\/3151094957-1133-15th-St-4-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11817981,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.028404%2C-118.48838&signature=1lfHLpdSBeXz4Do8NXsu9bGxZVY=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.028404%2C-118.48838&signature=8modevmBzXB04GBOctu58WMoFsk=","fl":"0"},{"t":"for_sale","y":34.02729,"x":-118.51464,"a":"201 Ocean Ave #B1504","s":"CA","c":"Santa Monica","z":"90402","p":"3,400,000","ph":"cdbf30d98eb12ae45a1bcc1d37ecdc","n":"","pt":"Condo","i":"thumbs\/ps.60\/a\/5\/b\/a\/picture-uh=84c48c6726f1c3675dd66cacfbe43a-ps=a5bab26e34d2be16ca61491839eb729.jpg","ib":"thumbs_big\/ps.60\/a\/5\/b\/a\/picture-uh=84c48c6726f1c3675dd66cacfbe43a-ps=a5bab26e34d2be16ca61491839eb729.jpg","sd":"","br":"3","ba":"2 full, 1 partial","sf":"1,554","pps":"2,188","cs":"","id":"3147736106","u":"\/property\/3147736106-201-Ocean-Ave-B1504-Santa-Monica-CA-90402","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11440233,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02729%2C-118.51464&signature=dnHkOCpE54ldFml6w-LG8WHm-A0=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02729%2C-118.51464&signature=8BEwHcnBNtR7fzTfa7LbtpuvUAk=","fl":"0"},{"t":"for_sale","y":34.023335,"x":-118.495346,"a":"1119 Lincoln Blvd","s":"CA","c":"Santa Monica","z":"90403","p":"529,000","ph":"f919aac245e474ad63426df4417b72f","n":"","pt":"Condo","i":"thumbs\/ps.58\/6\/1\/1\/1\/picture-uh=5099741e76f2e6ef1eb7602afd616c90-ps=61111e5a9a763ee522e46ed4b82fbf.jpg","ib":"thumbs_big\/ps.58\/6\/1\/1\/1\/picture-uh=5099741e76f2e6ef1eb7602afd616c90-ps=61111e5a9a763ee522e46ed4b82fbf.jpg","sd":"","br":"1","ba":"1","sf":"627","pps":"844","cs":"","id":"3139917317","u":"\/property\/3139917317-1119-Lincoln-Blvd-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11730693,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.023335%2C-118.495346&signature=S1aWKtf47no86kkNSStd2_f5lkM=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.023335%2C-118.495346&signature=8Rj95KTnYcW-vLZrqK9yzV-1CJg=","fl":"0"},{"t":"for_sale","y":34.025566,"x":-118.491646,"a":"1138 12th St #5","s":"CA","c":"Santa Monica","z":"90403","p":"689,000","ph":"5c6a98c6d673626c7f92b545dac87d9","n":"","pt":"Condo","i":"thumbs\/ps.60\/c\/5\/5\/6\/picture-uh=20635ef5b7f427aaf960ab25f49776c6-ps=c556336e784c6ad5dc142369bf769aa.jpg","ib":"thumbs_big\/ps.60\/c\/5\/5\/6\/picture-uh=20635ef5b7f427aaf960ab25f49776c6-ps=c556336e784c6ad5dc142369bf769aa.jpg","sd":"","br":"2","ba":"1 full, 1 partial","sf":"1,045","pps":"659","cs":"","id":"3147420410","u":"\/property\/3147420410-1138-12th-St-5-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11440233,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.025566%2C-118.491646&signature=QAKsTqnOQNJABd1XYwE-7Fedn1M=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.025566%2C-118.491646&signature=xZcpu1VHxvej4igGCPcgDOYh9VA=","fl":"0"},{"t":"for_sale","y":34.027782,"x":-118.49686,"a":"901 10th St #305","s":"CA","c":"Santa Monica","z":"90403","p":"915,000","ph":"d8e096e0a9cf25b09cbc6c82676f2e8","n":"","pt":"Condo","i":"thumbs\/ps.62\/a\/b\/2\/a\/picture-uh=df1b679f2fc7c5466d3a31a3de765222-ps=ab2a92a46135e95567f2c7285dea.jpg","ib":"thumbs_big\/ps.62\/a\/b\/2\/a\/picture-uh=df1b679f2fc7c5466d3a31a3de765222-ps=ab2a92a46135e95567f2c7285dea.jpg","sd":"","br":"3","ba":"2","sf":"1,491","pps":"614","cs":"","id":"3034640448","u":"\/property\/3034640448-901-10th-St-305-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11130412,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.027782%2C-118.49686&signature=46_mf1iDl88KaM2f77NQ9uug7PE=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.027782%2C-118.49686&signature=KA5U3A6SlNcYJW90TAOrQWvcte8=","fl":"0"},{"t":"for_sale","y":34.023018,"x":-118.50778,"a":"701 Ocean Ave #210","s":"CA","c":"Santa Monica","z":"90402","p":"2,435,000","ph":"3241b9928d2e910d0dc4f98b75adf33","n":"","pt":"Condo","i":"thumbs\/ps.61\/d\/d\/e\/0\/picture-uh=4daba81065d5f0de7d165ecdeb21f75f-ps=dde0d0ab514d76f9db859a78c46438.jpg","ib":"thumbs_big\/ps.61\/d\/d\/e\/0\/picture-uh=4daba81065d5f0de7d165ecdeb21f75f-ps=dde0d0ab514d76f9db859a78c46438.jpg","sd":"","br":"2","ba":"2 full, 1 partial","sf":"1,624","pps":"1,499","cs":"","id":"3153044181","u":"\/property\/3153044181-701-Ocean-Ave-210-Santa-Monica-CA-90402","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":10925528,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.023018%2C-118.50778&signature=rfANO8dwYk_7CPuF_2um1ok835k=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.023018%2C-118.50778&signature=8xuejlz5lRDQUqjbdkO2l5MbGRU=","fl":"0"},{"t":"for_sale","y":34.02743,"x":-118.51216,"a":"202 San Vicente Blvd #8","s":"CA","c":"Santa Monica","z":"90402","p":"1,275,000","ph":"5391b62f33a99aaf198533b3e6e3359","n":"","pt":"Apt\/Condo\/Twnhm","i":"thumbs\/ps.59\/a\/9\/5\/6\/picture-uh=81b296455418ac22fff726863b522e-ps=a956ccdf7d6b54a916ec5fb4bcecbe1.jpg","ib":"thumbs_big\/ps.59\/a\/9\/5\/6\/picture-uh=81b296455418ac22fff726863b522e-ps=a956ccdf7d6b54a916ec5fb4bcecbe1.jpg","sd":"","br":"2","ba":"2 full, 1 partial","sf":"1,611","pps":"791","cs":"","id":"3145829236","u":"\/property\/3145829236-202-San-Vicente-Blvd-8-Santa-Monica-CA-90402","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11440233,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02743%2C-118.51216&signature=w4u64ypD7uSjY-N6SgUdjBC-xtw=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02743%2C-118.51216&signature=Fd_rUt7nJ0wf_PK1wUkyxlOiSPQ=","fl":"0"},{"t":"for_sale","y":34.02729,"x":-118.51464,"a":"201 Ocean Ave #407P","s":"CA","c":"Santa Monica","z":"90402","p":"765,000","ph":"bb3f4aef9046fc4c83c21af0c96b40c","n":"","pt":"Condo","i":"thumbs\/ps.62\/d\/5\/f\/9\/picture-uh=aa47dffecaa815bfa121a9e9f7588f9a-ps=d5f9b2186042dcbfdb8b5d9bfec9938.jpg","ib":"thumbs_big\/ps.62\/d\/5\/f\/9\/picture-uh=aa47dffecaa815bfa121a9e9f7588f9a-ps=d5f9b2186042dcbfdb8b5d9bfec9938.jpg","sd":"","br":"","ba":"1","sf":"515","pps":"1,485","cs":"","id":"3025831445","u":"\/property\/3025831445-201-Ocean-Ave-407P-Santa-Monica-CA-90402","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11440233,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02729%2C-118.51464&signature=dnHkOCpE54ldFml6w-LG8WHm-A0=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02729%2C-118.51464&signature=8BEwHcnBNtR7fzTfa7LbtpuvUAk=","fl":"0"},{"t":"for_sale","y":34.026505,"x":-118.49297,"a":"1121 California Ave","s":"CA","c":"Santa Monica","z":"90403","p":"2,600,000","ph":"9f33c828430bb4d755d3c4123e90f9","n":"","pt":"Apartment","i":"thumbs\/ps.61\/c\/b\/a\/e\/picture-uh=c454dda6903d9772f05c12ef6016ab83-ps=cbae40c317cbecd14bd82c121a8ecd9.jpg","ib":"thumbs_big\/ps.61\/c\/b\/a\/e\/picture-uh=c454dda6903d9772f05c12ef6016ab83-ps=cbae40c317cbecd14bd82c121a8ecd9.jpg","sd":"","br":"","ba":"","sf":"4,542","pps":"572","cs":"","id":"3153384237","u":"\/property\/3153384237-1121-California-Ave-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11440198,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.026505%2C-118.49297&signature=SRa3-fXR7__xZtnm-HiZ-tOhqfo=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.026505%2C-118.49297&signature=Kt-h0GaG5VAHXkQ05Zs9f8E-en4=","fl":"0"},{"t":"for_sale","y":34.02282,"x":-118.50133,"a":"944 5th St #104","s":"CA","c":"Santa Monica","z":"90403","p":"1,499,000","ph":"a6a391a6f438879495d45c78c565481c","n":"","pt":"Townhome","i":"thumbs\/ps.60\/7\/b\/e\/b\/picture-uh=9587ab9b0681cd2e353457ac233daa-ps=7beb86d08c2df1546b5b236929de3a2a.jpg","ib":"thumbs_big\/ps.60\/7\/b\/e\/b\/picture-uh=9587ab9b0681cd2e353457ac233daa-ps=7beb86d08c2df1546b5b236929de3a2a.jpg","sd":"","br":"2","ba":"3","sf":"1,564","pps":"958","cs":"","id":"3149910039","u":"\/property\/3149910039-944-5th-St-104-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":10569850,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02282%2C-118.50133&signature=9kQV5wlW08il7GoRXojBCKmK6-Q=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02282%2C-118.50133&signature=z-G6Cq1V8XZPaS1FkRW8_rAWNqQ=","fl":"0"},{"t":"for_sale","y":34.02331,"x":-118.5019,"a":"918 5th St","s":"CA","c":"Santa Monica","z":"90403","p":"2,100,000","ph":"537892fe68f98158201a64d8efdae18e","n":"","pt":"Single-Family Home","i":"thumbs\/ps.60\/0\/8\/6\/6\/picture-uh=55317b631c1317ab19b439776c046bb-ps=0866c4b6bcf7f719f6da279116422bf.jpg","ib":"thumbs_big\/ps.60\/0\/8\/6\/6\/picture-uh=55317b631c1317ab19b439776c046bb-ps=0866c4b6bcf7f719f6da279116422bf.jpg","sd":"","br":"1","ba":"1","sf":"936","pps":"2,244","cs":"","id":"3148699959","u":"\/property\/3148699959-918-5th-St-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11440233,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02331%2C-118.5019&signature=oJLDC7LIOfkzmNg3SoDTvjMXCC0=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02331%2C-118.5019&signature=lFBCFwEa-Fy-CE7GbOXyIh2W2hI=","fl":"0"},{"t":"for_sale","y":34.0238,"x":-118.50323,"a":"843 4th St #106","s":"CA","c":"Santa Monica","z":"90403","p":"550,000","ph":"a2b98b4b658a6af3cf15b5f7577596","n":"","pt":"Condo","i":"thumbs\/ps.59\/6\/1\/8\/3\/picture-uh=147868c11e4bb69ef8b332ae133dbed7-ps=6183ce8673d33ef514c2fa8649bf7f5.jpg","ib":"thumbs_big\/ps.59\/6\/1\/8\/3\/picture-uh=147868c11e4bb69ef8b332ae133dbed7-ps=6183ce8673d33ef514c2fa8649bf7f5.jpg","sd":"","br":"1","ba":"1","sf":"750","pps":"733","cs":"","id":"3142438217","u":"\/property\/3142438217-843-4th-St-106-Santa-Monica-CA-90403","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11440233,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.0238%2C-118.50323&signature=-gZUOJqbs0sTCTGo-bYKnEm0gu0=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.0238%2C-118.50323&signature=kHmCfVWsa1SwSGJwc2r9CyTcK58=","fl":"0"},{"t":"for_sale","y":34.02729,"x":-118.51464,"a":"201 Ocean Ave #1608B","s":"CA","c":"Santa Monica","z":"90402","p":"3,650,000","ph":"3a81d788baafa2b918696b66554aa","n":"","pt":"Condo","i":"thumbs\/ps.61\/f\/4\/4\/9\/picture-uh=a92886c44caff88d36747817768aa7-ps=f449d325ec580c0f333526eaad32dd.jpg","ib":"thumbs_big\/ps.61\/f\/4\/4\/9\/picture-uh=a92886c44caff88d36747817768aa7-ps=f449d325ec580c0f333526eaad32dd.jpg","sd":"","br":"2","ba":"2","sf":"","pps":"","cs":"","id":"3140017398","u":"\/property\/3140017398-201-Ocean-Ave-1608B-Santa-Monica-CA-90402","lt":"for_sale","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":11223734,"ls":"For Sale","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02729%2C-118.51464&signature=dnHkOCpE54ldFml6w-LG8WHm-A0=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02729%2C-118.51464&signature=8BEwHcnBNtR7fzTfa7LbtpuvUAk=","fl":"0"}],"sold":[{"t":"sold","y":34.027782,"x":-118.49686,"a":"901 10th St #210","s":"CA","c":"Santa Monica","z":"90403","p":"903,500","ph":"8fe42b86efc47f6ebd8d18ae59a665","n":"","pt":"Condo","i":"","ib":"","sd":"Apr 23, 2014","br":"2","ba":"2","sf":"1,380","pps":"655","cs":"","id":"1974810","u":"\/homes\/California\/Santa_Monica\/sold\/1974810-901-10th-St-210-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"939,000","vd":"May 2, 2014","uh":null,"sa":"","sid":null,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.027782%2C-118.49686&signature=46_mf1iDl88KaM2f77NQ9uug7PE=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.027782%2C-118.49686&signature=KA5U3A6SlNcYJW90TAOrQWvcte8="},{"t":"sold","y":34.02853,"x":-118.497734,"a":"837 10th St #9","s":"CA","c":"Santa Monica","z":"90403","p":"540,000","ph":"28c01598bfd1f71ea5801020c989a91a","n":"","pt":"Condo","i":"","ib":"","sd":"Apr 18, 2014","br":"1","ba":"1","sf":"797","pps":"678","cs":"","id":"501001","u":"\/homes\/California\/Santa_Monica\/sold\/501001-837-10th-St-9-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"580,000","vd":"May 2, 2014","uh":null,"sa":"","sid":null,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02853%2C-118.497734&signature=jXBzrdgOaMEV5ioAWWv5jUL4paY=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02853%2C-118.497734&signature=CcM-cx0HpOgcclYzc8EBPa0AloA="},{"t":"sold","y":34.028168,"x":-118.48441,"a":"1253 17th St","s":"CA","c":"Santa Monica","z":"90404","p":"1,295,000","ph":"503bc8332b1fe080e06cc81efc68d060","n":"","pt":"Condo","i":"","ib":"","sd":"Apr 18, 2014","br":"","ba":"","sf":"","pps":"","cs":"","id":"859589","u":"\/homes\/California\/Santa_Monica\/sold\/859589-1253-17th-St-Santa-Monica-CA-90404","lt":"sold","fc":false,"v":"1,335,000","vd":"May 2, 2014","uh":null,"sa":"","sid":10925528,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.028168%2C-118.48441&signature=qzk8Ule8BJILpqqUtp92IHJMLGY=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.028168%2C-118.48441&signature=auHVjj9IB7l8UUb3E_Gt2cmMfa4="},{"t":"sold","y":34.023464,"x":-118.49471,"a":"1130 9th St #5","s":"CA","c":"Santa Monica","z":"90403","p":"651,000","ph":"8d4b2424aecfcd80a0d0bd57191d62","n":"","pt":"Condo","i":"","ib":"","sd":"Apr 18, 2014","br":"2","ba":"2","sf":"954","pps":"682","cs":"","id":"4276427","u":"\/homes\/California\/Santa_Monica\/sold\/4276427-1130-9th-St-5-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"727,000","vd":"May 2, 2014","uh":null,"sa":"","sid":10925528,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.023464%2C-118.49471&signature=6XucmyIeJrRRNgj9xrYFKjJpbd8=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.023464%2C-118.49471&signature=ILzGlgOde8xAZoYg3Ca2rrkav0o="},{"t":"sold","y":34.02437,"x":-118.5096,"a":"535 Ocean Ave #12A","s":"CA","c":"Santa Monica","z":"90402","p":"3,190,000","ph":"811660a037b5a6ef151c59505da319d","n":"","pt":"Condo","i":"","ib":"","sd":"Apr 18, 2014","br":"3","ba":"2","sf":"1,781","pps":"1,791","cs":"","id":"4281938","u":"\/homes\/California\/Santa_Monica\/sold\/4281938-535-Ocean-Ave-12A-Santa-Monica-CA-90402","lt":"sold","fc":false,"v":"1,666,000","vd":"May 2, 2014","uh":null,"sa":"","sid":11440233,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02437%2C-118.5096&signature=FmNieuzkMv-KdJQ4xY1pHfWouEc=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02437%2C-118.5096&signature=3SPJF6yXWE8fo7cVYXlDYRC5JFo="},{"t":"sold","y":34.022884,"x":-118.499565,"a":"1008 6th St #G","s":"CA","c":"Santa Monica","z":"90403","p":"660,000","ph":"9e4b37125b3941da8944ce18e4412d2","n":"","pt":"Condo","i":"","ib":"","sd":"Apr 17, 2014","br":"2","ba":"1","sf":"758","pps":"871","cs":"","id":"4280932","u":"\/homes\/California\/Santa_Monica\/sold\/4280932-1008-6th-St-G-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"711,000","vd":"May 2, 2014","uh":null,"sa":"","sid":null,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.022884%2C-118.499565&signature=OPhvVqyXhgXQY2DCeAowrdPlJ5E=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.022884%2C-118.499565&signature=wIbIuMBprHPODAU6zrCIooobR38="},{"t":"sold","y":34.028713,"x":-118.50269,"a":"618 Lincoln Blvd #5","s":"CA","c":"Santa Monica","z":"90402","p":"1,200,000","ph":"1f55f7ab757a5a07333d95c3664d27f","n":"","pt":"Condo","i":"","ib":"","sd":"Apr 11, 2014","br":"3","ba":"3","sf":"1,566","pps":"766","cs":"","id":"1609342","u":"\/homes\/California\/Santa_Monica\/sold\/1609342-618-Lincoln-Blvd-5-Santa-Monica-CA-90402","lt":"sold","fc":false,"v":"1,407,000","vd":"May 2, 2014","uh":null,"sa":"","sid":11440233,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.028713%2C-118.50269&signature=vYNxBv9eIeIcWDPybi1kAh1OqXg=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.028713%2C-118.50269&signature=YFb4z1XmZFz5c5Wa7iibKRgoBL8="},{"t":"sold","y":34.02437,"x":-118.5096,"a":"535 Ocean Ave #1C","s":"CA","c":"Santa Monica","z":"90402","p":"910,000","ph":"2e7240b2f252bd03d843b8861ffbc29","n":"","pt":"Condo","i":"","ib":"","sd":"Apr 11, 2014","br":"2","ba":"2","sf":"1,585","pps":"574","cs":"","id":"4281908","u":"\/homes\/California\/Santa_Monica\/sold\/4281908-535-Ocean-Ave-1C-Santa-Monica-CA-90402","lt":"sold","fc":false,"v":"1,085,000","vd":"May 2, 2014","uh":null,"sa":"","sid":null,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02437%2C-118.5096&signature=FmNieuzkMv-KdJQ4xY1pHfWouEc=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02437%2C-118.5096&signature=3SPJF6yXWE8fo7cVYXlDYRC5JFo="},{"t":"sold","y":34.026905,"x":-118.51404,"a":"201 Ocean Ave #806B","s":"CA","c":"Santa Monica","z":"90402","p":"35,000","ph":"f164f4d26e5033ffb899e3203812a3ae","n":"","pt":"Coop","i":"thumbs\/ps.55\/1\/b\/d\/8\/picture-uh=cc65627fe93efb5b29e5b5c555e1cb0-ps=1bd8a22d2c6c97dd12366f90ec94.jpg","ib":"thumbs_big\/ps.55\/1\/b\/d\/8\/picture-uh=cc65627fe93efb5b29e5b5c555e1cb0-ps=1bd8a22d2c6c97dd12366f90ec94.jpg","sd":"Apr 8, 2014","br":"2","ba":"2","sf":"1,229","pps":"28","cs":"","id":"21995580","u":"\/homes\/California\/Santa_Monica\/sold\/21995580-201-Ocean-Ave-806B-Santa-Monica-CA-90402","lt":"sold","fc":false,"v":null,"vd":null,"uh":null,"sa":"","sid":122795,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.026905%2C-118.51404&signature=he6Ls0XKnkNxO9U_DUju32JOLnI=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.026905%2C-118.51404&signature=aqBQx6GaapqFaCIObneU1HWDg6w="},{"t":"sold","y":34.02779,"x":-118.48397,"a":"1301 17th St #102","s":"CA","c":"Santa Monica","z":"90404","p":"721,000","ph":"ab6f9afea7f0f5fb168287ffb1ec197d","n":"","pt":"Condo","i":"","ib":"","sd":"Apr 4, 2014","br":"2","ba":"2","sf":"1,545","pps":"467","cs":"","id":"4272732","u":"\/homes\/California\/Santa_Monica\/sold\/4272732-1301-17th-St-102-Santa-Monica-CA-90404","lt":"sold","fc":false,"v":"736,000","vd":"May 2, 2014","uh":null,"sa":"","sid":10338446,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02779%2C-118.48397&signature=IVGViZv9wsBB-SHmDLWjhZxNnBk=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02779%2C-118.48397&signature=ikAnvuUgjJKgPBUCc9E08AXkL5Q="},{"t":"sold","y":34.02651,"x":-118.5122,"a":"123 Georgina Ave #8","s":"CA","c":"Santa Monica","z":"90402","p":"2,000,000","ph":"6d1a2f2299bcdb4dc17a5f87e288e40","n":"","pt":"Condo","i":"","ib":"","sd":"Apr 1, 2014","br":"2","ba":"3","sf":"2,671","pps":"749","cs":"","id":"4281575","u":"\/homes\/California\/Santa_Monica\/sold\/4281575-123-Georgina-Ave-8-Santa-Monica-CA-90402","lt":"sold","fc":false,"v":"1,760,000","vd":"May 2, 2014","uh":null,"sa":"","sid":null,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02651%2C-118.5122&signature=j8vdlupmVZcx8wPpBhwF4NzAC-k=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02651%2C-118.5122&signature=oVTyz3-b4JwVllJCgxiX1qNFuk8="},{"t":"sold","y":34.02571,"x":-118.50287,"a":"520 Montana Ave #102","s":"CA","c":"Santa Monica","z":"90403","p":"950,000","ph":"b4b8d791837a478dd3daee9860dc1579","n":"","pt":"Condo","i":"","ib":"","sd":"Mar 28, 2014","br":"2","ba":"2","sf":"1,909","pps":"498","cs":"","id":"4280831","u":"\/homes\/California\/Santa_Monica\/sold\/4280831-520-Montana-Ave-102-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"989,000","vd":"May 2, 2014","uh":null,"sa":"","sid":null,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02571%2C-118.50287&signature=quIfmvsj5u1q9Q-p-m53nYVcR6U=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02571%2C-118.50287&signature=fHOK2BRC5xOv7TMCGgbl0fkjM38="},{"t":"sold","y":34.02251,"x":-118.49991,"a":"1011 5th St #2","s":"CA","c":"Santa Monica","z":"90403","p":"1,079,500","ph":"d9ceba5a6c314ca099829a79d35887d","n":"","pt":"Condo","i":"","ib":"","sd":"Mar 28, 2014","br":"3","ba":"3","sf":"1,626","pps":"664","cs":"","id":"1415357","u":"\/homes\/California\/Santa_Monica\/sold\/1415357-1011-5th-St-2-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"1,225,000","vd":"May 2, 2014","uh":null,"sa":"","sid":null,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02251%2C-118.49991&signature=djF3EwnFA61ru7AqumY5ZSn5Rx8=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02251%2C-118.49991&signature=XVTenIO3IJsDXi6X6U_YeNHxAgU="},{"t":"sold","y":34.02638,"x":-118.498116,"a":"918 9th St #B","s":"CA","c":"Santa Monica","z":"90403","p":"1,100,000","ph":"48edd82a40b057e678c6998b6cc7591f","n":"","pt":"Condo","i":"","ib":"","sd":"Mar 21, 2014","br":"2","ba":"2","sf":"2,070","pps":"531","cs":"","id":"4276367","u":"\/homes\/California\/Santa_Monica\/sold\/4276367-918-9th-St-B-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"1,142,000","vd":"May 2, 2014","uh":null,"sa":"","sid":11440233,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02638%2C-118.498116&signature=BuaXX2JjYPL0HDVYH5E0H59ZA7M=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02638%2C-118.498116&signature=BtKni_pT7fcpjhtEpPfhYnBV5tE="},{"t":"sold","y":34.028282,"x":-118.49482,"a":"938 12th St #301","s":"CA","c":"Santa Monica","z":"90403","p":"1,580,000","ph":"7f924d555f727fa09f53bf236f53ee8a","n":"","pt":"Condo","i":"","ib":"","sd":"Mar 12, 2014","br":"3","ba":"3","sf":"1,752","pps":"902","cs":"","id":"680700","u":"\/homes\/California\/Santa_Monica\/sold\/680700-938-12th-St-301-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"1,506,000","vd":"May 2, 2014","uh":null,"sa":"","sid":10352208,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.028282%2C-118.49482&signature=aGvGh0VQvaMtassZayopG3A0hlI=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.028282%2C-118.49482&signature=Mu24ksMmz0Pp_HMVYUVwpQ8F1QE="},{"t":"sold","y":34.02631,"x":-118.499886,"a":"848 Lincoln Blvd #P","s":"CA","c":"Santa Monica","z":"90403","p":"750,000","ph":"d1c65e861a6a2bf77477df4ce0d4abea","n":"","pt":"Condo","i":"","ib":"","sd":"Mar 5, 2014","br":"2","ba":"3","sf":"1,420","pps":"528","cs":"","id":"4280666","u":"\/homes\/California\/Santa_Monica\/sold\/4280666-848-Lincoln-Blvd-P-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"962,000","vd":"May 2, 2014","uh":null,"sa":"","sid":null,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02631%2C-118.499886&signature=EPMo3C96rWR1YqzF_L7kU97hrbs=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02631%2C-118.499886&signature=pe85zR7r0xaVqV3AkuNA2J88EEs="},{"t":"sold","y":34.024708,"x":-118.510185,"a":"515 Ocean Ave #506S","s":"CA","c":"Santa Monica","z":"90402","p":"1,400,000","ph":"c13fbb9555bacaadef96932ccd68a56f","n":"","pt":"Condo","i":"","ib":"","sd":"Feb 28, 2014","br":"2","ba":"2","sf":"1,490","pps":"940","cs":"","id":"1473576","u":"\/homes\/California\/Santa_Monica\/sold\/1473576-515-Ocean-Ave-506S-Santa-Monica-CA-90402","lt":"sold","fc":false,"v":"1,401,000","vd":"May 2, 2014","uh":null,"sa":"","sid":null,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.024708%2C-118.510185&signature=VETbS4FpAXMiX68I1vmYRfSeMac=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.024708%2C-118.510185&signature=o7mgecYGjyj1N1dXarsFu_Tjv1E="},{"t":"sold","y":34.026176,"x":-118.4942,"a":"1038 11th St #D","s":"CA","c":"Santa Monica","z":"90403","p":"1,200,000","ph":"b1d5537a41fc202eb4ce4a9e2cce","n":"","pt":"Condo","i":"","ib":"","sd":"Feb 24, 2014","br":"3","ba":"3","sf":"1,587","pps":"756","cs":"","id":"1000964896","u":"\/homes\/California\/Santa_Monica\/sold\/1000964896-1038-11th-St-D-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"1,456,000","vd":"May 2, 2014","uh":null,"sa":"","sid":10484185,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.026176%2C-118.4942&signature=EZEFilAxkF67cWOKH2GH1Rj7Ehw=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.026176%2C-118.4942&signature=C9FR_QYUi7R_-uqYHyvwQo-A4cQ="},{"t":"sold","y":34.02422,"x":-118.496376,"a":"1041 Lincoln Blvd #6","s":"CA","c":"Santa Monica","z":"90403","p":"675,000","ph":"ded880d57caf2e2b1e42efe826264f0","n":"","pt":"Condo","i":"","ib":"","sd":"Feb 19, 2014","br":"2","ba":"2","sf":"1,047","pps":"645","cs":"","id":"1500571","u":"\/homes\/California\/Santa_Monica\/sold\/1500571-1041-Lincoln-Blvd-6-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"730,000","vd":"May 2, 2014","uh":null,"sa":"","sid":10338446,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02422%2C-118.496376&signature=5Q9mBDZhZh8k7YiWt4Dj8jABzlA=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02422%2C-118.496376&signature=gmdRMNzvX5to03xweWmCEpBn7Nc="},{"t":"sold","y":34.02378,"x":-118.503235,"a":"843 4th St #303","s":"CA","c":"Santa Monica","z":"90403","p":"775,000","ph":"1f147c70e2f9b21afab0788ed9c1c3","n":"","pt":"Condo","i":"","ib":"","sd":"Feb 18, 2014","br":"2","ba":"2","sf":"1,001","pps":"774","cs":"","id":"1000965362","u":"\/homes\/California\/Santa_Monica\/sold\/1000965362-843-4th-St-303-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"887,000","vd":"May 2, 2014","uh":null,"sa":"","sid":11431793,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02378%2C-118.503235&signature=q-cLeAhj612kOM2Eoeqk4eRvH6E=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02378%2C-118.503235&signature=EjnoDhV6W1Ir_b8tRFzkMCNhMuI="},{"t":"sold","y":34.023937,"x":-118.493416,"a":"1144 10th St #4","s":"CA","c":"Santa Monica","z":"90403","p":"695,000","ph":"177369702ee0437dfe8a35c57d","n":"","pt":"Condo","i":"thumbs\/ps.59\/3\/2\/b\/3\/picture-uh=8aa237f09084864ab59dbf62189b64a9-ps=32b3643fed6c05726f66210ff887a32.jpg","ib":"thumbs_big\/ps.59\/3\/2\/b\/3\/picture-uh=8aa237f09084864ab59dbf62189b64a9-ps=32b3643fed6c05726f66210ff887a32.jpg","sd":"Feb 14, 2014","br":"2","ba":"2","sf":"969","pps":"717","cs":"","id":"28857656","u":"\/homes\/California\/Santa_Monica\/sold\/28857656-1144-10th-St-4-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"754,000","vd":"May 2, 2014","uh":null,"sa":"","sid":11730693,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.023937%2C-118.493416&signature=wT5nJ_8-67JA8nnoMP__oFlwhq8=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.023937%2C-118.493416&signature=jnHvdovJFAVLy2j1fWgX9lWzcVw="},{"t":"sold","y":34.02402,"x":-118.509,"a":"603 Ocean Ave #1N","s":"CA","c":"Santa Monica","z":"90402","p":"3,000,000","ph":"fd85b2db23bf7f379a9f75d26c62ea3b","n":"","pt":"Condo","i":"","ib":"","sd":"Feb 7, 2014","br":"2","ba":"3","sf":"1,846","pps":"1,625","cs":"","id":"2005207","u":"\/homes\/California\/Santa_Monica\/sold\/2005207-603-Ocean-Ave-1N-Santa-Monica-CA-90402","lt":"sold","fc":false,"v":"2,237,000","vd":"May 2, 2014","uh":null,"sa":"","sid":10352208,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02402%2C-118.509&signature=q2xDoaaLB617TsQ9G0QGK4pCREs=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02402%2C-118.509&signature=En0G298Q-HFhPxytAXkcrYGVPuA="},{"t":"sold","y":34.02378,"x":-118.503235,"a":"843 4th St #110","s":"CA","c":"Santa Monica","z":"90403","p":"610,000","ph":"bc641cc1de9d38ac17e6526bcdb5638","n":"","pt":"Condo","i":"","ib":"","sd":"Feb 4, 2014","br":"2","ba":"2","sf":"910","pps":"670","cs":"","id":"1000964212","u":"\/homes\/California\/Santa_Monica\/sold\/1000964212-843-4th-St-110-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"812,000","vd":"May 2, 2014","uh":null,"sa":"","sid":null,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.02378%2C-118.503235&signature=q-cLeAhj612kOM2Eoeqk4eRvH6E=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.02378%2C-118.503235&signature=EjnoDhV6W1Ir_b8tRFzkMCNhMuI="},{"t":"sold","y":34.0229,"x":-118.49115,"a":"1247 10th St #4","s":"CA","c":"Santa Monica","z":"90401","p":"801,000","ph":"37ea1d3b90256b8a699de9f3b78447c","n":"","pt":"Condo","i":"","ib":"","sd":"Feb 4, 2014","br":"2","ba":"2","sf":"1,505","pps":"532","cs":"","id":"1575257","u":"\/homes\/California\/Santa_Monica\/sold\/1575257-1247-10th-St-4-Santa-Monica-CA-90401","lt":"sold","fc":false,"v":"889,000","vd":"May 2, 2014","uh":null,"sa":"","sid":11104292,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.0229%2C-118.49115&signature=YBOMVhvcz7sxlN4Nl1ATqO4j2iA=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.0229%2C-118.49115&signature=7ANIajvWMtZ8Dz8HowVi8pT1K44="},{"t":"sold","y":34.023212,"x":-118.501785,"a":"924 5th St #2","s":"CA","c":"Santa Monica","z":"90403","p":"409,000","ph":"f328ebd934dafaf9eae37f748f2581","n":"","pt":"Condo","i":"","ib":"","sd":"Jan 16, 2014","br":"1","ba":"1","sf":"618","pps":"662","cs":"","id":"580514","u":"\/homes\/California\/Santa_Monica\/sold\/580514-924-5th-St-2-Santa-Monica-CA-90403","lt":"sold","fc":false,"v":"493,000","vd":"May 2, 2014","uh":null,"sa":"","sid":10569850,"ls":"Sold","streetviewImage":"http:\/\/maps.googleapis.com\/maps\/api\/streetview?client=gme-truliainc&size=70x50&sensor=false&location=34.023212%2C-118.501785&signature=ySkYCfCRmyoSgLMl9LdCAjx3lLM=","satelliteImage":"http:\/\/maps.googleapis.com\/maps\/api\/staticmap?client=gme-truliainc&zoom=18&size=70x50&maptype=satellite&sensor=false&center=34.023212%2C-118.501785&signature=c-NJSoWCvuNomnUKHj0-9pdCK-U="}]},"success":true,"errors":[]}"""
    # print string

    # string = urllib2.urlopen(url).read()

    response = json.loads(string)

    if (type(response['properties']) == list):
        return

    if (response['properties'].get('for sale') == None):
        return

    firstWrite = True

    for propType in response['properties']:
        for prop in response['properties'][propType]:
            if prop['t'] == 'for_sale':
                isSold = '0'
            else:
                isSold = '1'

            data = {
                'is_sold': isSold,
                'long': prop['x'],
                'lat': prop['y'],
                'address1': prop['a'],
                'state': prop['s'],
                'city': prop['c'],
                'zip': prop['z'],
                'url': 'http://www.trulia.com' + prop['u'],
                'property_type': prop['pt'],
                'price': prop['p'].replace(',', ''),
                'beds': prop['br'],
                'baths': prop['ba'],
                'square_footage': prop['sf'].replace(',', ''),
                'source': 'trulia',
            }

            if (firstWrite):
                initWriteToFile(data)
                firstWrite = False

            # writeToDB(data)
            writeToFile(data)

if __name__ == "__main__":
    RUNABLE_SCRIPTS = ['trulia']

    parser = OptionParser(usage="usage: %prog [options] [type]")
    # parser.add_option("-t", "--type", action='append',
    #     help="the type of parser to use")
    options, args = parser.parse_args()

    if not args:
        parser.print_usage()
        exit(1)

    if args[0] in RUNABLE_SCRIPTS:
        eval(args[0])()
    else:
        print("Available types are: %s" % ", ".join(RUNABLE_SCRIPTS))

    print stats
